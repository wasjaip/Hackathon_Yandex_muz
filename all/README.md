## Исходные данные

### Данные для тестирования решений

- **covers.json**: Разметка каверов с уникальными идентификаторами треков, метками типа трека (оригинал/кавер) и идентификаторами исходных треков.
- **Метаинформация**: Содержит данные о дате появления информации о треке, названии, языке исполнения, жанрах и длительности.
- **Тексты песен**: Включает уникальные идентификаторы треков, тексты и идентификаторы текстов.

### Внешние источники данных

- [MusicMetaLinker](https://github.com/andreamust/MusicMetaLinker)
- [www.deezer.com](https://www.deezer.com)

## Предположения

- Мелодии могут быть на разных языках.
- Треки могут быть перепеты тем же автором.
- Некоторые исходники могут отсутствовать в данных.

## Решение

### Методология

![Схема процессов проекта в нотации BPNM](https://github.com/wasjaip/Hackathon_Yandex_muz/blob/Yandex_muz/yandex_m14_rev2_0.png)

1. **Предобработка данных**: Очистка, нормализация и интеграция данных из различных источников.
2. **Извлечение признаков**: Анализ текстов песен, метаинформации и аудио-характеристик для создания векторного представления треков.
3. **Модель классификации**: Обучение модели для бинарной классификации треков как кавер/не кавер.
4. **Кластеризация**: Группировка каверов с исходными треками и определение исходного трека в цепочке каверов.
5. **Ранжирование**: Оценка схожести треков внутри кластеров для создания линейки эволюции композиции.

### Алгоритмы и технологии

- **Подготовка датасета к методу TF-IDF** с распознаванием языка текста и лемматизации с помощью langid  и nltk.
- **Классификаторы ML** для анализа текстов и определения кавер/не кавер: XGBClassifier, CatboostClassifier и LightGBMClassifier,. 
- **Метрики качества**, F1-мера и AUC-ROC, применены для оценки эффективности моделей анализа текстов песен.

- **NLP-модели** для анализа текстов песен.
- **Методы классификации** (например, SVM, Random Forest, Neural Networks) для определения кавер/не кавер.
- **Алгоритмы кластеризации** (например, K-means, DBSCAN) для группировки треков.
- **Метрики схожести** (например, косинусное сходств)

## Ожидаемый результат

- **ML-продукт**: Система, способная находить в датасете композиции, похожие на заданную мелодию, и формировать группы треков.
- **Ранжирование**: Система должна ранжировать все мелодии внутри группы по степени схожести и датам создания.
- **Полезность**: Разработка должна показать преимущества такого подхода для пользователей и бизнеса.


## Этапы реализации

1. **Сбор и предобработка данных**: Интеграция данных из различных источников и их подготовка.
2. **Исследование и анализ данных**: Понимание структуры данных и формулирование гипотез.
   **Гипотеза:** мы предполагаем, что все популярные треки имеют приблизительно одинаковую продолжительность.
4. **Разработка и обучение модели**: Применение методов машинного обучения для достижения целей проекта.
5. **Тестирование и оптимизация**: Проверка качества модели и её улучшение. 
6. **Деплоймент**: Развертывание системы в производственной среде.
7. **Мониторинг и обслуживание**: Отслеживание работы системы и её обновление.

**Гипотеза:** мы предполагаем, что все популярные треки имеют приблизительно одинаковую продолжительность.

![Средняя длина песен в топе-100 Billboard за последние 70 лет](https://github.com/wasjaip/Hackathon_Yandex_muz/blob/Yandex_muz/01_yandex_m_track_average_lenght_001_s.png)

В 1950-х годах в качестве носителя использовались 10-ти и 12-дюймовые пластинки, которые вмещали 3 и 4 минуты записи соответственно. Затем, компания RCA разработала новый стандарт пластинок, который умещал композицию в три минуты. Формат стал самым популярным благодаря дешевизне, поэтому длительность треков начала сокращаться.  

Позже Spotify и Apple Music изменили подход к монетизации: музыкантам стали платить за количество прослушиваний.  

Spotify засчитывает прослушивание, если трек включён более 30 секунд. Таким образом исключаются случайные нажатия. Соответственно, треки длиной 5, 10 минут — или 31 секунду — генерируют одинаковые гонорары. В связи с этим исполнители стали сокращать длительность записи, уменьшая затраты на запись и увеличивая шансы на монетизацию.  

В результате исследования мы выяснили, что средняя продолжительность трека равна 3–3,5 минуты. Наша гипотеза оказалась верна.  

## Заключение

Разработанная система машинного обучения позволит улучшить пользовательский опыт, предоставляя более точные и персонализированные рекомендации, а также даст бизнесу новые возможности для удержания и привлечения аудитории.
